# ğŸŒ AI ê¸°ë°˜ ê¸€ë¡œë²Œ ì—¬í–‰ í”Œë˜ë„ˆ

> **"ë„ì¿„ ì‹œë¶€ì•¼ì—ì„œ 2ë°•3ì¼ ì‡¼í•‘ ì—¬í–‰"** í•œ ë¬¸ì¥ìœ¼ë¡œ â†’ GPT-5ê°€ ìë™ìœ¼ë¡œ ì™„ë²½í•œ ì—¬í–‰ ì¼ì • ìƒì„±

[![Python](https://img.shields.io/badge/Python-3.13-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.121-green.svg)](https://fastapi.tiangolo.com)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT--5-orange.svg)](https://openai.com)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://docker.com)
[![Redis](https://img.shields.io/badge/Redis-7-red.svg)](https://redis.io)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**ë¡œê·¸ì¸ ë¶ˆí•„ìš”, Dockerë¡œ ì¦‰ì‹œ ì‹¤í–‰** - ğŸŒ **ì „ì„¸ê³„ ëª¨ë“  ë„ì‹œ ì§€ì›!**

### âœ¨ í•µì‹¬ íŠ¹ì§• (2025-11-18 ì—…ë°ì´íŠ¸: ê¸€ë¡œë²Œ ëŒ€ì¤‘êµí†µ ìë™ ê°ì§€)

- ğŸŒ **ì „ì„¸ê³„ ì—¬í–‰ ì§€ì›**: ë„ì¿„, íŒŒë¦¬, ë‰´ìš•, ë°©ì½• ë“± **ì „ì„¸ê³„ ëª¨ë“  êµ­ê°€/ë„ì‹œ** ì§€ì›
- ğŸš‡ **ê¸€ë¡œë²Œ ëŒ€ì¤‘êµí†µ**: ì¢Œí‘œ ê¸°ë°˜ êµ­ê°€ ì½”ë“œ ìë™ ê°ì§€ + ë©€í‹°-ë¦¬ì „ í´ë°± (ì „ì„¸ê³„ ì–´ë””ì„œë“  ì‘ë™)
- ğŸ¤– **GPT-5 ë„ì‹œ ìë™ ì¶”ì¶œ**: êµ­ê°€/ì£¼/ë„ì‹œ ê³„ì¸µ êµ¬ì¡° ìë™ ë¶„ì„
- ğŸ¨ **í”„ë¡¬í”„íŠ¸ ì¤‘ì‹¬ UI**: ì—¬í–‰ ë„ì‹œ/ìŠ¤íƒ€ì¼ ì„ íƒ ë¶ˆí•„ìš”, AIê°€ ëª¨ë‘ ìë™ ë¶„ì„
- ğŸ‡°ğŸ‡· **í•œêµ­ì–´ ì‘ë‹µ**: ì „ì„¸ê³„ ì—¬í–‰ì´ì§€ë§Œ ê²°ê³¼ëŠ” í•œêµ­ì–´ë¡œ ì œê³µ
- ğŸ“ **ì¢Œí‘œ ê¸°ë°˜ ê²½ë¡œ**: ë™ì¼ ê°€ê²Œëª… í˜¼ë™ ë°©ì§€, ì¶”ì²œ ì¥ì†Œì˜ ì •í™•í•œ ìœ„ì¹˜ë¡œ ê²½ë¡œ ê³„ì‚°
- ğŸ—“ï¸ **AI ìŠ¤ì¼€ì¤„ í”„ë ˆì´ë¨¸**: ì‹œê°„ëŒ€ë³„ ìµœì  ì¥ì†Œ ìœ í˜• ìë™ ê²°ì •
- ğŸ” **ìˆœì°¨ì  ì¥ì†Œ ê²€ìƒ‰**: ì´ì „ ì¥ì†Œ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ ì¥ì†Œ ê²€ìƒ‰ (ë™ì„  ìµœì í™”)
- ğŸŒ **Google Places API**: ì‹¤ì œ ì¥ì†Œë§Œ ì¶”ì²œ (ì¢Œí‘œ, ì£¼ì†Œ, í‰ì  í¬í•¨)
- ğŸ“ **Naver ë¸”ë¡œê·¸ í›„ê¸°**: ê° ì¥ì†Œë§ˆë‹¤ ì‹¤ì œ ë°©ë¬¸ í›„ê¸° ìë™ ìˆ˜ì§‘
- ğŸŒ¦ï¸ **ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ**: ì‹¤ì œ ì˜ˆë³´ ë°˜ì˜í•œ ì‹¤ë‚´/ì‹¤ì™¸ í™œë™ ì¡°ì •
- ğŸ’¾ **Redis ìºì‹±**: AI ì‘ë‹µ ë° ì¥ì†Œ ë°ì´í„° 30ì¼ ìºì‹œ
- ğŸ—ºï¸ **ìŠ¤ë§ˆíŠ¸ ê²½ë¡œ**: êµ­ê°€ ìë™ ê°ì§€ â†’ ëŒ€ì¤‘êµí†µ/ë„ë³´ ì„ íƒ â†’ ì‹¤íŒ¨ ì‹œ ì§ì„  í™”ì‚´í‘œ
- ğŸ³ **Docker ì»¨í…Œì´ë„ˆ**: Python 3.13 ì™„ë²½ í˜¸í™˜, ì›í´ë¦­ ì‹¤í–‰

---

## ğŸš€ ì´ˆê°„ë‹¨ ì‹¤í–‰ (Docker)

### 1ï¸âƒ£ Dockerë¡œ ì¦‰ì‹œ ì‹œì‘ (ê¶Œì¥)

```bash
cd travel-recommend-korea
./docker-start.sh
```

**ë!** ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000 ì ‘ì†! ğŸ‰

### 2ï¸âƒ£ ë˜ëŠ” Docker Compose ì§ì ‘ ì‹¤í–‰

```bash
docker-compose up -d
```

### 3ï¸âƒ£ API í‚¤ ì„¤ì •

`.env` íŒŒì¼ì—ì„œ ë‹¤ìŒ í‚¤ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:

```bash
# í•„ìˆ˜
OPENAI_API_KEY=sk-proj-your-key
GOOGLE_MAPS_API_KEY=your-google-key

# ì„ íƒì‚¬í•­
NAVER_CLIENT_ID=your-naver-id
NAVER_CLIENT_SECRET=your-naver-secret
OPENWEATHER_API_KEY=your-weather-key
NOTION_TOKEN=your-notion-token
```

---

## ğŸ“Š ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph Docker["ğŸ³ Docker ì»¨í…Œì´ë„ˆ"]
        APP[FastAPI App<br/>Python 3.13<br/>Port 8000]
        REDIS[Redis Cache<br/>256MB<br/>Port 6379]
    end
    
    subgraph AI["ğŸ¤– GPT-5 ì²˜ë¦¬"]
        CITY[ë„ì‹œ ìë™ ì¶”ì¶œ<br/>ì²œì•ˆ, ë°€ì–‘ ë“±]
        STYLE[ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„<br/>ê°€ì¡±ì—¬í–‰, ë§›ì§‘ ë“±]
        FRAME[ì‹œê°„ëŒ€ë³„ ìŠ¤ì¼€ì¤„<br/>09:00 ê´€ê´‘, 12:00 ë§›ì§‘]
    end
    
    subgraph External["â˜ï¸ ì™¸ë¶€ API"]
        GOOGLE[Google Places/Maps<br/>ì¥ì†Œ ê²€ìƒ‰ + ê²½ë¡œ]
        NAVER[Naver Blog<br/>í›„ê¸° í¬ë¡¤ë§]
        WEATHER[OpenWeather<br/>ë‚ ì”¨ ì˜ˆë³´]
    end
    
    USER[ğŸ‘¤ ì‚¬ìš©ì<br/>í”„ë¡¬í”„íŠ¸ ì…ë ¥] --> APP
    APP --> CITY
    CITY --> STYLE
    STYLE --> FRAME
    FRAME --> GOOGLE
    FRAME --> NAVER
    FRAME --> WEATHER
    APP --> REDIS
    GOOGLE --> APP
    APP --> USER
    
    classDef dockerStyle fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef aiStyle fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    classDef extStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    
    class APP,REDIS dockerStyle
    class CITY,STYLE,FRAME aiStyle
    class GOOGLE,NAVER,WEATHER extStyle
```

---

## ğŸ—ï¸ ìƒì„¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ğŸ“ 3-Layer ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

```mermaid
graph TB
    subgraph Layer1["ğŸ¯ Layer 1: AI ë¶„ì„ ë ˆì´ì–´"]
        A1[1. ë„ì‹œ + ì¢Œí‘œ ì¶”ì¶œ<br/>GPT-5<br/>HierarchicalLocationExtractor]
        A2[2. ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„<br/>GPT-5<br/>TravelStyleAnalyzer]
        A3[3. ìŠ¤ì¼€ì¤„ í”„ë ˆì„ ìƒì„±<br/>GPT-5<br/>AIScheduleFramer]
    end
    
    subgraph Layer2["ğŸ” Layer 2: ë°ì´í„° ìˆ˜ì§‘ ë ˆì´ì–´"]
        B1[4. ìˆœì°¨ì  ì¥ì†Œ ê²€ìƒ‰<br/>discover_places_sequential]
        B2[5. Google Places API<br/>search_nearby_places]
        B3[6. Naver Blog API<br/>search_blogs]
        B4[7. ê±°ë¦¬/ì§€ì—­ í•„í„°ë§<br/>GeographicFilter]
    end
    
    subgraph Layer3["ğŸ—ºï¸ Layer 3: ìµœì í™” ë ˆì´ì–´"]
        C1[8. ê²½ë¡œ ìµœì í™”<br/>Google Directions API]
        C2[9. Redis ìºì‹±<br/>30ì¼ TTL]
        C3[10. ìµœì¢… ì‘ë‹µ ìƒì„±<br/>JSON ì§ë ¬í™”]
    end
    
    A1 --> A2
    A2 --> A3
    A3 --> B1
    B1 --> B2
    B1 --> B3
    B2 --> B4
    B3 --> B4
    B4 --> C1
    C1 --> C2
    C2 --> C3
    
    style Layer1 fill:#e8f5e9,stroke:#388e3c
    style Layer2 fill:#e3f2fd,stroke:#1976d2
    style Layer3 fill:#fff3e0,stroke:#f57c00
```

### ğŸ”„ ë°ì´í„° íë¦„ ìƒì„¸ë„

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ì‚¬ìš©ì
    participant API as FastAPI
    participant GPT5 as ğŸ¤– GPT-5
    participant Redis as ğŸ’¾ Redis
    participant Google as ğŸŒ Google
    participant Naver as ğŸ“ Naver
    
    U->>API: "êµí† ì—ì„œ 2ë°•3ì¼ ì—¬í–‰"
    
    Note over API,GPT5: ğŸ¯ Phase 1: AI ë¶„ì„ (3ë‹¨ê³„)
    API->>GPT5: 1ï¸âƒ£ ë„ì‹œ+ì¢Œí‘œ ì¶”ì¶œ
    GPT5-->>API: {"city":"êµí† ", "lat":35.01, "lng":135.77}
    API->>GPT5: 2ï¸âƒ£ ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„
    GPT5-->>API: {"style":"cultural_tour", "confidence":0.85}
    API->>GPT5: 3ï¸âƒ£ ìŠ¤ì¼€ì¤„ í”„ë ˆì„ ìƒì„±
    GPT5-->>API: [{"day":1,"time":"09:00","type":"temple"}...]
    
    Note over API,Google: ğŸ” Phase 2: ë°ì´í„° ìˆ˜ì§‘
    loop ê° ì‹œê°„ëŒ€ë³„
        API->>Redis: ìºì‹œ í™•ì¸
        alt ìºì‹œ ìˆìŒ
            Redis-->>API: ìºì‹œëœ ì¥ì†Œ
        else ìºì‹œ ì—†ìŒ
            API->>Google: ì¥ì†Œ ê²€ìƒ‰ (ì¢Œí‘œ+ë°˜ê²½)
            Google-->>API: ì¥ì†Œ ë¦¬ìŠ¤íŠ¸
            API->>API: ê±°ë¦¬ í•„í„°ë§ (5km ì´ë‚´)
            API->>Redis: ìºì‹œ ì €ì¥ (30ì¼)
        end
        API->>Naver: ë¸”ë¡œê·¸ í›„ê¸° ê²€ìƒ‰
        Naver-->>API: í›„ê¸° 3ê°œ
    end
    
    Note over API,U: ğŸ—ºï¸ Phase 3: ìµœì í™” & ì‘ë‹µ
    API->>Google: ê²½ë¡œ ìµœì í™” ìš”ì²­
    Google-->>API: ìµœì  ê²½ë¡œ + Polyline
    API->>U: ì™„ì„±ëœ ì—¬í–‰ ê³„íš ğŸ“‹
```

---

## ğŸ§  AI í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ì „ëµ

### 1ï¸âƒ£ ë„ì‹œ + ì¢Œí‘œ ì¶”ì¶œ í”„ë¡¬í”„íŠ¸

**ëª©í‘œ**: ì „ì„¸ê³„ ë„ì‹œëª…ê³¼ ì •í™•í•œ ì¢Œí‘œë¥¼ ë™ì‹œì— ì¶”ì¶œ

```python
extraction_prompt = f"""ğŸŒ ë‹¤ìŒ ë¬¸ì¥ì—ì„œ ì—¬í–‰ ëª©ì ì§€ì˜ "ë„ì‹œëª…"ê³¼ "ì •í™•í•œ ì¢Œí‘œ"ë¥¼ ì¶”ì¶œí•˜ì„¸ìš”.

ë¬¸ì¥: "{prompt}"

ê·œì¹™:
- "~ì—ì„œ" ë’¤ì— ë‚˜ì˜¤ëŠ” ì§€ëª…ì´ ëª©ì ì§€ì…ë‹ˆë‹¤
- **ì „ì„¸ê³„ ëª¨ë“  ë„ì‹œ ì§€ì›** (ì¼ë³¸, í”„ë‘ìŠ¤, ë¯¸êµ­, í•œêµ­ ë“±)
- ìœ ëª… ë„ì‹œì˜ ì •í™•í•œ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì œê³µí•˜ì„¸ìš”
- ë™ëª…ì´ì¸ ë„ì‹œê°€ ìˆìœ¼ë©´ ë” ìœ ëª…í•œ ê³³ì„ ì„ íƒí•˜ì„¸ìš”

JSONë§Œ ì‘ë‹µí•˜ì„¸ìš”:
{{"city": "ë„ì‹œëª…", "lat": ìœ„ë„, "lng": ê²½ë„, "country": "êµ­ê°€ëª…"}}

ì˜ˆì‹œ:
- "êµí† ì—ì„œ" â†’ {{"city": "êµí† ", "lat": 35.0116, "lng": 135.7681, "country": "ì¼ë³¸"}}
- "ìˆœì²œ ë§›ì§‘" â†’ {{"city": "ìˆœì²œ", "lat": 34.9506, "lng": 127.4872, "country": "ëŒ€í•œë¯¼êµ­"}}
"""
```

**í•µì‹¬ ì „ëµ**:
- âœ… GPT-5ê°€ ì•Œê³  ìˆëŠ” ì •í™•í•œ ì¢Œí‘œ í™œìš© (Google Geocoding ì˜¤ë¥˜ ë°©ì§€)
- âœ… ë™ëª…ì´ì¸ ë„ì‹œ ë¬¸ì œ í•´ê²° (ì˜ˆ: í•œêµ­ êµí†  vs ì¼ë³¸ êµí† )
- âœ… êµ­ê°€ëª… í¬í•¨ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ ëª…í™•í™”

### 2ï¸âƒ£ ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„ í”„ë¡¬í”„íŠ¸

**ëª©í‘œ**: ì‚¬ìš©ì ì˜ë„ë¥¼ 8ê°€ì§€ ìŠ¤íƒ€ì¼ë¡œ ë¶„ë¥˜

```python
system_prompt = """ë‹¹ì‹ ì€ ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬ ì—¬í–‰ ìŠ¤íƒ€ì¼ì„ ì •í™•íˆ ë¶„ë¥˜í•˜ì„¸ìš”."""

user_prompt = f"""
í”„ë¡¬í”„íŠ¸: "{user_prompt}"

ìŠ¤íƒ€ì¼ ë¶„ë¥˜:
1. food_tour: ë§›ì§‘ íˆ¬ì–´
2. cultural_tour: ë¬¸í™”/ì—­ì‚¬ íƒë°©
3. nature_healing: ìì—° íë§
4. outdoor_date: ì‹¤ì™¸ ë°ì´íŠ¸
5. family_trip: ê°€ì¡± ì—¬í–‰
6. shopping: ì‡¼í•‘
7. night_life: ì•¼ê°„ í™œë™
8. custom: ë§ì¶¤í˜•

JSON ì‘ë‹µ:
{{"style": "food_tour", "confidence": 0.85, "keywords": ["ë§›ì§‘", "ìŒì‹"]}}
"""
```

**í•µì‹¬ ì „ëµ**:
- âœ… ì‹ ë¢°ë„(confidence) ì ìˆ˜ë¡œ ì• ë§¤í•œ ì¼€ì´ìŠ¤ ê°ì§€
- âœ… í‚¤ì›Œë“œ ì¶”ì¶œë¡œ í›„ì† ì¥ì†Œ ê²€ìƒ‰ì— í™œìš©
- âœ… 8ê°€ì§€ ëª…í™•í•œ ì¹´í…Œê³ ë¦¬ë¡œ ì¥ì†Œ íƒ€ì… ê²°ì •

### 3ï¸âƒ£ ìŠ¤ì¼€ì¤„ í”„ë ˆì„ ìƒì„± í”„ë¡¬í”„íŠ¸

**ëª©í‘œ**: ì‹¤ì œ ì¥ì†Œëª… ì—†ì´ ì‹œê°„ëŒ€ë³„ "í‹€"ë§Œ ìƒì„±

```python
system_prompt = """ë‹¹ì‹ ì€ ì—¬í–‰ ì¼ì • ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‹œê°„ëŒ€ë³„ í™œë™ ê³„íšì˜ "í‹€"ì„ ìƒì„±í•©ë‹ˆë‹¤.
ì‹¤ì œ ì¥ì†Œëª…ì€ ì œì™¸í•˜ê³ , ê° ì‹œê°„ëŒ€ì— ì–´ë–¤ ìœ í˜•ì˜ ì¥ì†Œë¥¼ ë°©ë¬¸í•´ì•¼ í• ì§€ë§Œ ê²°ì •í•©ë‹ˆë‹¤."""

user_prompt = f"""
{city} {days_count}ì¼({start_time}-{end_time}) {travel_style}{weather_context}

ê·œì¹™: 
- 11ì‹œ ì ì‹¬, 13:30 ì¹´í˜, 15-17ì‹œ ê´€ê´‘, 18ì‹œ ì €ë…, 20-22ì‹œ ì•¼ê°„(ì„ íƒ)
- ìœ í˜• ì—°ì†ê¸ˆì§€ (ë§›ì§‘â†’ë§›ì§‘ X)
- ë°˜ê²½: ê´€ê´‘ 5km, ì‹ì‚¬ 2km, ì¹´í˜ 3km

**ê°„ê²°í•˜ê²Œ** JSONë§Œ ì¶œë ¥:
{{
  "schedule_frame": [
    {{"day":1,"time_slot":"09:00-11:00","place_type":"tourist_attraction",
      "purpose":"ì˜¤ì „ ê´€ê´‘","search_keywords":["ê´€ê´‘ì§€","ëª…ì†Œ"],
      "search_radius_km":5.0,"priority":"high","expected_duration_minutes":120}}
  ]
}}
"""
```

**í•µì‹¬ ì „ëµ**:
- âœ… í† í° ì ˆì•½ì„ ìœ„í•œ ì´ˆê°„ì†Œí™” í”„ë¡¬í”„íŠ¸
- âœ… ë™ì  í† í° ì œí•œ (1ë°•2ì¼=10K, 2ë°•3ì¼=15K, 3ë°•4ì¼+=20K)
- âœ… ì‹ì‚¬ ì‹œê°„ ê·œì¹™ ëª…ì‹œ (í•˜ë£¨ 3ë¼ë§Œ)
- âœ… ê²€ìƒ‰ ë°˜ê²½ ì°¨ë³„í™” (ê´€ê´‘ > ì¹´í˜ > ì‹ì‚¬)

---

## ğŸ” ë°ì´í„° í•„í„°ë§ & ì„ íƒ ì•Œê³ ë¦¬ì¦˜

### 1. ì§€ë¦¬ì  í•„í„°ë§ (GeographicFilter)

```mermaid
graph TD
    A[Google Places API ê²°ê³¼] --> B{ì¢Œí‘œ ìœ íš¨ì„± ê²€ì¦}
    B -->|ìœ íš¨| C{ê±°ë¦¬ ê³„ì‚°}
    B -->|ë¬´íš¨| Z[âŒ ì œì™¸]
    C --> D{ê²€ìƒ‰ ë°˜ê²½ ë‚´?}
    D -->|Yes| E{ì£¼ì†Œ ê²€ì¦}
    D -->|No| F{ë°˜ê²½ 2ë°° í™•ì¥?}
    F -->|Yes| G[ì¬ê²€ìƒ‰]
    F -->|No| Z
    E -->|ë„ì‹œëª… í¬í•¨| H[âœ… ì±„íƒ]
    E -->|ë„ì‹œëª… ë¯¸í¬í•¨| I[âš ï¸ ê²½ê³ í•˜ì§€ë§Œ ê±°ë¦¬ë¡œ íŒë‹¨]
    I --> H
    G --> C
```

**í•„í„°ë§ ê¸°ì¤€**:

```python
# 1ë‹¨ê³„: ì¢Œí‘œ ìœ íš¨ì„± (ì „ì„¸ê³„ ëŒ€ì‘)
if not (-90 <= lat <= 90 and -180 <= lng <= 180):
    reject()

# 2ë‹¨ê³„: Haversine ê±°ë¦¬ ê³„ì‚°
distance = haversine_distance(center, place_coords)

# 3ë‹¨ê³„: ë°˜ê²½ ê²€ì¦ (ë™ì  í™•ì¥)
base_radius = 2.0km  # ì‹ì‚¬
if distance > base_radius:
    if retry_count < max_retries:
        base_radius *= 2  # ìµœëŒ€ 4kmê¹Œì§€ í™•ì¥
        retry_search()
    else:
        reject()

# 4ë‹¨ê³„: ì£¼ì†Œ ê²€ì¦ (ì°¸ê³ ìš©)
if city.lower() in address.lower():
    confidence += 0.2
```

### 2. ìˆœì°¨ì  ì¥ì†Œ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜

**í•µì‹¬ ê°œë…**: ì´ì „ ì¥ì†Œì—ì„œ ê°€ê¹Œìš´ ë‹¤ìŒ ì¥ì†Œë¥¼ ì°¾ì•„ ë™ì„  ìµœì í™”

```mermaid
graph LR
    A[ì¶œë°œì§€<br/>37.5665, 126.9780] -->|ğŸš¶ 5km| B[ì¥ì†Œ1<br/>ê´€ê´‘ì§€]
    B -->|ğŸš¶ 2km| C[ì¥ì†Œ2<br/>ì ì‹¬]
    C -->|ğŸš¶ 1km| D[ì¥ì†Œ3<br/>ì¹´í˜]
    D -->|ğŸš¶ 3km| E[ì¥ì†Œ4<br/>ì €ë…]
    
    style A fill:#e8f5e9
    style B fill:#bbdefb
    style C fill:#fff9c4
    style D fill:#ffccbc
    style E fill:#f8bbd0
```

**ì•Œê³ ë¦¬ì¦˜**:

```python
def discover_places_sequential(schedule_frame, base_location, city):
    current_location = base_location  # ì¶œë°œì§€ ì¢Œí‘œ
    current_city = city
    current_day = 1
    day_places_count = 0
    MAX_PLACES_PER_DAY = 8  # í•˜ë£¨ ìµœëŒ€ 8ê°œ
    
    for frame_item in schedule_frame:
        day = frame_item['day']
        
        # ì¼ì ë³€ê²½ ê°ì§€
        if day != current_day:
            if day_places_count < 4:  # ì¥ì†Œ ë¶€ì¡±
                # AIë¡œ ê·¼êµ ë„ì‹œ ì¶”ì²œ
                nearby_cities = analyze_nearby_regions_with_ai(current_city)
                if nearby_cities:
                    current_city = nearby_cities[0]
                    current_location = get_city_coords(current_city)
            current_day = day
            day_places_count = 0
        
        # ì¼ìë³„ ì¥ì†Œ ìˆ˜ ì œí•œ
        if day_places_count >= MAX_PLACES_PER_DAY:
            continue
        
        # í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ ë°˜ê²½ ê²€ìƒ‰
        places = search_nearby(
            city=current_city,
            center_lat=current_location[0],
            center_lng=current_location[1],
            radius_km=frame_item['search_radius_km'],
            keywords=frame_item['search_keywords']
        )
        
        # ì¤‘ë³µ ì œê±° í›„ ì²« ë²ˆì§¸ ì¥ì†Œ ì„ íƒ
        for place in places:
            if place not in used_places:
                selected_place = place
                used_places.add(place)
                break
        
        if selected_place:
            # ë‹¤ìŒ ê²€ìƒ‰ì˜ ì¤‘ì‹¬ì„ í˜„ì¬ ì¥ì†Œë¡œ ì—…ë°ì´íŠ¸
            current_location = (selected_place['lat'], selected_place['lng'])
            day_places_count += 1
            
    return filled_schedule
```

**ì¥ì **:
- âœ… ì´ë™ ê±°ë¦¬ ìµœì†Œí™” (í‰ê·  2-3km)
- âœ… ë™ì„  ìµœì í™” (ì§€ê·¸ì¬ê·¸ ë°©ì§€)
- âœ… ì¼ìë³„ ë„ì‹œ ë³€ê²½ ì§€ì› (1ì¼ì°¨ ìˆœì²œ â†’ 2ì¼ì°¨ ì—¬ìˆ˜)

### 3. Redis ìºì‹± ì „ëµ

```mermaid
graph TD
    A[ì¥ì†Œ ê²€ìƒ‰ ìš”ì²­] --> B{Redis ìºì‹œ í™•ì¸}
    B -->|HIT| C[ìºì‹œëœ ë°ì´í„° ë°˜í™˜]
    B -->|MISS| D[Google Places API í˜¸ì¶œ]
    D --> E[ê±°ë¦¬ í•„í„°ë§]
    E --> F[Redis ì €ì¥<br/>TTL: 30ì¼]
    F --> G[ë°ì´í„° ë°˜í™˜]
    
    style B fill:#fff9c4
    style C fill:#c8e6c9
    style F fill:#ffccbc
```

**ìºì‹œ ê³„ì¸µ**:

```python
# Layer 1: AI ì‘ë‹µ ìºì‹œ
cache_key = f"city_extraction:{prompt_hash}"
ttl = 30 days
# "êµí† " â†’ {"city":"êµí† ", "lat":35.01, "lng":135.77}

# Layer 2: ì¥ì†Œ ê²€ìƒ‰ ìºì‹œ
cache_key = f"google_{city}_{keyword}_{radius}"
ttl = 30 days
# "êµí† _ê´€ê´‘ì§€_5km" â†’ [ê¸ˆê°ì‚¬, ì²­ìˆ˜ì‚¬, ...]

# Layer 3: ìŠ¤ì¼€ì¤„ í”„ë ˆì„ ìºì‹œ
cache_key = f"schedule_frame:{city}:{days}:{style}"
ttl = 7 days
# "êµí† _3ì¼_cultural" â†’ [{"day":1,"time":"09:00",...}]
```

**ìºì‹œ ë¬´íš¨í™”**:
- ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨ ìš”ì²­
- 30ì¼ TTL ìë™ ë§Œë£Œ
- Redis ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ LRU ì •ì±…

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ¤– 1. AI ìë™ ë„ì‹œ ì¶”ì¶œ (NEW!)

```python
ì…ë ¥: "ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰ ì¶”ì²œí•´ì¤˜"
      â†“
GPT-5: "ì²œì•ˆ" ì¶”ì¶œ
      â†“
ê²°ê³¼: ì²œì•ˆ ì¥ì†Œë“¤ ì¶”ì²œ âœ…
```

**ì§€ì› ë²”ìœ„:**
- âœ… ì²œì•ˆ, ë°€ì–‘, ì²­ë„, í•©ì²œ ë“± ì†Œë„ì‹œ
- âœ… ì „ë‚¨, ê²½ë‚¨ ë“± ì§€ì—­ëª…ì—ì„œ ìë™ ì¶”ì¶œ
- âœ… í•˜ë“œì½”ë”© DB ì—†ìŒ - AIê°€ ëª¨ë“  í•œêµ­ ë„ì‹œ ì´í•´

### ğŸ¨ 2. í”„ë¡¬í”„íŠ¸ ì¤‘ì‹¬ UI (NEW!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AIì—ê²Œ ì—¬í–‰ ê³„íš ìš”ì²­í•˜ê¸°           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ìì—°ìŠ¤ëŸ½ê²Œ ì…ë ¥í•˜ì„¸ìš”!            â”‚  â”‚
â”‚  â”‚                                    â”‚  â”‚
â”‚  â”‚ "ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰"       â”‚  â”‚
â”‚  â”‚ "ë¶€ì‚° í•´ìš´ëŒ€ ë°ì´íŠ¸ ì½”ìŠ¤"        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  ğŸ“… ë‚ ì§œ/ì‹œê°„ (ì„ íƒì‚¬í•­)                â”‚
â”‚  ğŸ  ì¶œë°œì§€ (ì„ íƒì‚¬í•­)                   â”‚
â”‚                                          â”‚
â”‚     âœ¨ AI ì—¬í–‰ ê³„íš ìƒì„±í•˜ê¸°            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•:**
- âŒ ì—¬í–‰ ë„ì‹œ ì„ íƒ ë¶ˆí•„ìš” (AI ìë™ ì¸ì‹)
- âŒ ì—¬í–‰ ìŠ¤íƒ€ì¼ ì„ íƒ ë¶ˆí•„ìš” (AI ìë™ ë¶„ì„)
- âœ… í”„ë¡¬í”„íŠ¸ë§Œ ì…ë ¥í•˜ë©´ ë!

### ğŸ“ 3. ì¢Œí‘œ ê¸°ë°˜ ì •í™•í•œ ê²½ë¡œ (NEW!)

```
ë¬¸ì œ: "ë´‰ì„œì‚°" ê²€ìƒ‰ â†’ íŒŒì£¼ ë´‰ì„œì‚° ì°¾ìŒ âŒ
í•´ê²°: ì¢Œí‘œ (36.81, 127.12) ì‚¬ìš© â†’ ì²œì•ˆ ë´‰ì„œì‚° âœ…
```

**ë™ì‘:**
- AIê°€ ì¶”ì²œí•œ ì¥ì†Œì˜ ì •í™•í•œ ì¢Œí‘œ ì‚¬ìš©
- ë™ì¼ ê°€ê²Œëª…ì˜ ë‹¤ë¥¸ ì§€ì  í˜¼ë™ ë°©ì§€
- ì²œì•ˆâ†’ì „ì£¼â†’ê°•ë¦‰ ê°™ì€ ì¤‘êµ¬ë‚œë°© ê²½ë¡œ ë°©ì§€

### ğŸ—ºï¸ 4. ìš°ì•„í•œ ê²½ë¡œ í‘œì‹œ

```
ëŒ€ì¤‘êµí†µ/ë„ë³´ ê²½ë¡œ ì‹œë„
   â†“
ì„±ê³µ â†’ íŒŒë€/ì´ˆë¡ ì„ ìœ¼ë¡œ ê²½ë¡œ í‘œì‹œ âœ…
ì‹¤íŒ¨ â†’ ì ì„  í™”ì‚´í‘œ í‘œì‹œ âœ… (ì—ëŸ¬ ì•„ë‹˜!)
```

---

## ğŸ³ Docker êµ¬ì„±

### ì„œë¹„ìŠ¤ êµ¬ì¡°

```yaml
services:
  redis:
    - Redis 7 (256MB ë©”ëª¨ë¦¬)
    - Port 6379
    - 30ì¼ ìºì‹œ ì €ì¥
    
  app:
    - FastAPI (Python 3.13)
    - Port 8000
    - ì‹¤ì‹œê°„ ì½”ë“œ ë°˜ì˜ (ë³¼ë¥¨ ë§ˆìš´íŠ¸)
```

### Docker ëª…ë ¹ì–´

```bash
# ì‹œì‘
./docker-start.sh
ë˜ëŠ”
docker-compose up -d

# ì¤‘ì§€
docker-compose down

# ì¬ì‹œì‘ (ì½”ë“œ ìˆ˜ì • í›„)
docker-compose restart app

# ë¡œê·¸ í™•ì¸
docker-compose logs -f app

# ì™„ì „ ì‚­ì œ
docker-compose down -v
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
travel-recommend-korea/
â”‚
â”œâ”€â”€ ğŸ³ Docker ì„¤ì •
â”‚   â”œâ”€â”€ Dockerfile                  # Python 3.13 + ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ docker-compose.yml          # Redis + App
â”‚   â”œâ”€â”€ docker-start.sh             # ì›í´ë¦­ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ .dockerignore               # ë¹Œë“œ ì œì™¸ íŒŒì¼
â”‚
â”œâ”€â”€ ğŸŒ frontend/                    # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ index.html                  # ë©”ì¸ í˜ì´ì§€ (í”„ë¡¬í”„íŠ¸ ì¤‘ì‹¬)
â”‚   â”œâ”€â”€ script.js                   # JavaScript ë¡œì§
â”‚   â””â”€â”€ results.html                # ê²°ê³¼ í˜ì´ì§€
â”‚
â”œâ”€â”€ ğŸ”§ app/                         # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì§„ì…ì 
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ endpoints.py            # ì—¬í–‰ ê³„íš ìƒì„± API
â”‚   â”‚   â””â”€â”€ user_endpoints.py       # ì‚¬ìš©ì ì¸ì¦ API
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                       # í•µì‹¬ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ config.py               # í™˜ê²½ë³€ìˆ˜
â”‚   â”‚   â””â”€â”€ database.py             # (PostgreSQL ì œê±°ë¨)
â”‚   â”‚
â”‚   â””â”€â”€ services/                   # í•µì‹¬ ì„œë¹„ìŠ¤
â”‚       â”œâ”€â”€ openai_service.py       # ğŸ¤– GPT-5 í†µí•©
â”‚       â”œâ”€â”€ hierarchical_location_extractor.py  # ğŸ” AI ë„ì‹œ ì¶”ì¶œ
â”‚       â”œâ”€â”€ enhanced_place_discovery_service.py # ğŸ“ ì¥ì†Œ ë°œê²¬
â”‚       â”œâ”€â”€ google_maps_service.py  # ğŸ—ºï¸ ê²½ë¡œ ê³„ì‚°
â”‚       â”œâ”€â”€ blog_crawler_service.py # ğŸ“ ë¸”ë¡œê·¸ í¬ë¡¤ë§
â”‚       â”œâ”€â”€ weather_service.py      # ğŸŒ¦ï¸ ë‚ ì”¨ ì¡°íšŒ
â”‚       â”œâ”€â”€ route_optimizer_service.py  # ğŸ¯ ê²½ë¡œ ìµœì í™”
â”‚       â””â”€â”€ local_context_db.py     # (ë¹ˆ êµ¬í˜„ - AI ëŒ€ì²´)
â”‚
â”œâ”€â”€ âš™ï¸ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ .env                        # í™˜ê²½ë³€ìˆ˜ (API í‚¤)
â”‚   â”œâ”€â”€ requirements.txt            # Python ì˜ì¡´ì„± (3.13 í˜¸í™˜)
â”‚   â””â”€â”€ .gitignore                  # Git ë¬´ì‹œ íŒŒì¼
â”‚
â””â”€â”€ ğŸ“š ë¬¸ì„œ
    â”œâ”€â”€ README.MD                   # ì´ íŒŒì¼
    â””â”€â”€ TROUBLESHOOTING.md          # íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
```

---

## ğŸ¨ ì‚¬ìš©ë²•

### 1ï¸âƒ£ í”„ë¡¬í”„íŠ¸ ì…ë ¥

```
ì˜ˆì‹œ:
â€¢ "ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰ ì¶”ì²œí•´ì¤˜"
â€¢ "ë¶€ì‚° í•´ìš´ëŒ€ì—ì„œ ë‹¹ì¼ì¹˜ê¸° ë°ì´íŠ¸ ì½”ìŠ¤"
â€¢ "ì œì£¼ë„ 3ë°•4ì¼, ì•„ì´ë“¤ê³¼ í•¨ê»˜"
â€¢ "ê²½ì£¼ì—ì„œ ì—­ì‚¬ íƒë°© 1ë°•2ì¼"
â€¢ "ê°•ë¦‰ íë§ ì—¬í–‰, ì¹´í˜ì™€ ë°”ë‹¤ ì¤‘ì‹¬ìœ¼ë¡œ"
```

### 2ï¸âƒ£ AI ìë™ ë¶„ì„

```
âœ… ë„ì‹œ: ì²œì•ˆ (ìë™ ì¶”ì¶œ)
âœ… ê¸°ê°„: 1ë°•2ì¼
âœ… ìŠ¤íƒ€ì¼: ê°€ì¡±ì—¬í–‰ (ìë™ ë¶„ì„)
âœ… ì¢Œí‘œ: (36.81, 127.14) (ìë™ ì¡°íšŒ)
```

### 3ï¸âƒ£ ê²°ê³¼ í™•ì¸

- **ì¼ì • íƒ€ì„ë¼ì¸**: ì‹œê°„ëŒ€ë³„ ìƒì„¸ ì¼ì •
- **ì¥ì†Œ ì •ë³´**: ì£¼ì†Œ, í‰ì , ë¸”ë¡œê·¸ í›„ê¸°
- **ì§€ë„ ê²½ë¡œ**: ì¢Œí‘œ ê¸°ë°˜ ì •í™•í•œ ê²½ë¡œ
- **ìë™ ì €ì¥**: ë¸Œë¼ìš°ì €ì— ìµœëŒ€ 50ê°œ ì €ì¥

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ìƒì„¸ ë¡œì§

### ì§€ë„ & ê²½ë¡œ ë Œë”ë§

```mermaid
graph TD
    A[ì¥ì†Œ ë°ì´í„° ìˆ˜ì‹ ] --> B[Google Maps ì´ˆê¸°í™”]
    B --> C{ì¢Œí‘œ ìœ íš¨?}
    C -->|Yes| D[ë§ˆì»¤ í‘œì‹œ]
    C -->|No| E[âŒ ìŠ¤í‚µ]
    D --> F{ê²½ë¡œ ë³´ê¸° í´ë¦­?}
    F -->|Yes| G{ê±°ë¦¬ ê³„ì‚°}
    G --> H{< 1.5km?}
    H -->|Yes| I[ğŸš¶ ë„ë³´ë§Œ í‘œì‹œ]
    H -->|No| J[ğŸšŒğŸš— ëŒ€ì¤‘êµí†µ+ìë™ì°¨]
    I --> K[Google Directions API í˜¸ì¶œ]
    J --> K
    K --> L{API ì„±ê³µ?}
    L -->|OK| M[Polyline ë Œë”ë§]
    L -->|ZERO_RESULTS| N[ì ì„  ì§ì„  í‘œì‹œ]
    N --> O[ê±°ë¦¬ + ì˜ˆìƒì‹œê°„ í‘œì‹œ]
```

### ê²½ë¡œ í‘œì‹œ ì•Œê³ ë¦¬ì¦˜

```javascript
// script.jsì˜ displayRoute í•¨ìˆ˜
async function displayRoute(start, dest, mode) {
    // 1. ê±°ë¦¬ ê³„ì‚° (Haversine)
    const distance = calculateDistance(start, dest);
    
    // 2. ì´ë™ ìˆ˜ë‹¨ ìë™ ì„ íƒ
    let travelMode = 'DRIVING';  // ê¸°ë³¸ê°’
    
    if (distance < 1.5) {
        travelMode = 'WALKING';  // 1.5km ë¯¸ë§Œ â†’ ë„ë³´
    } else if (mode === 'walking') {
        travelMode = 'WALKING';
    } else if (mode === 'transit') {
        travelMode = 'TRANSIT';
    }
    
    // 3. Google Directions API í˜¸ì¶œ
    const request = {
        origin: new google.maps.LatLng(start.lat, start.lng),
        destination: new google.maps.LatLng(dest.lat, dest.lng),
        travelMode: google.maps.TravelMode[travelMode]
    };
    
    directionsService.route(request, (result, status) => {
        if (status === 'OK') {
            // 4a. ê²½ë¡œ ìˆìŒ â†’ Polyline ë Œë”ë§
            directionsRenderer.setDirections(result);
            
            const route = result.routes[0].legs[0];
            showInfo(`ê±°ë¦¬: ${route.distance.text}, ì‹œê°„: ${route.duration.text}`);
        } else {
            // 4b. ê²½ë¡œ ì—†ìŒ â†’ ì ì„  ì§ì„  í‘œì‹œ
            console.warn(`ê²½ë¡œ ì—†ìŒ: ${status}`);
            drawStraightPath(start, dest);
            
            const estTime = Math.ceil(distance / 0.05);  // 50m/ë¶„ ê°€ì •
            showInfo(`ì§ì„  ê±°ë¦¬: ${distance.toFixed(1)}km (ì•½ ${estTime}ë¶„)`);
        }
    });
}

// ì ì„  ì§ì„  ë Œë”ë§
function drawStraightPath(start, dest) {
    const line = new google.maps.Polyline({
        path: [start, dest],
        geodesic: true,
        strokeColor: '#FF6B6B',
        strokeOpacity: 0,
        strokeWeight: 4,
        icons: [{
            icon: {
                path: 'M 0,-1 0,1',
                strokeOpacity: 0.8,
                scale: 4
            },
            offset: '0',
            repeat: '20px'
        }],
        map: map
    });
}
```

### ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ - "ë‚´ ì—¬í–‰ ê¸°ë¡"

```javascript
// ì €ì¥ (ìµœëŒ€ 50ê°œ, LRU ì •ì±…)
function saveTravelPlanToLocal(data) {
    const plans = JSON.parse(localStorage.getItem('travelPlans') || '[]');
    
    // ì¤‘ë³µ ì œê±° (í”„ë¡¬í”„íŠ¸ ê¸°ì¤€)
    const filtered = plans.filter(p => p.prompt !== data.prompt);
    
    // ìµœì‹  ê³„íšì„ ë§¨ ì•ì— ì¶”ê°€
    filtered.unshift({
        id: Date.now(),
        prompt: data.prompt,
        data: data,
        timestamp: new Date().toISOString()
    });
    
    // ìµœëŒ€ 50ê°œë§Œ ìœ ì§€
    const limited = filtered.slice(0, 50);
    
    localStorage.setItem('travelPlans', JSON.stringify(limited));
}

// ë¶ˆëŸ¬ì˜¤ê¸°
function loadTravelHistory() {
    const plans = JSON.parse(localStorage.getItem('travelPlans') || '[]');
    
    const historyHTML = plans.map(plan => `
        <div class="history-item" onclick="loadPlan(${plan.id})">
            <div class="prompt">${plan.prompt}</div>
            <div class="date">${formatDate(plan.timestamp)}</div>
        </div>
    `).join('');
    
    document.getElementById('historyContainer').innerHTML = historyHTML;
}
```

### ë™ì  ì „ì†¡ ë²„íŠ¼ ìƒì„± (ì¸ë¼ì¸ ìŠ¤íƒ€ì¼)

```javascript
// ì „ì†¡ ë²„íŠ¼ HTML ìƒì„± (Tailwind í´ë˜ìŠ¤ ëŒ€ì‹  ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì‚¬ìš©)
function createTransportButtons(distance) {
    let buttonsHTML = '';
    
    if (distance < 1.5) {
        // 1.5km ë¯¸ë§Œ â†’ ë„ë³´ë§Œ
        buttonsHTML += `
            <button onclick="loadRouteOnMap('walking')" 
                    style="padding: 12px 16px; background-color: #f97316; color: white; 
                           border-radius: 8px; font-size: 14px; font-weight: 500; 
                           transition: all 0.3s; border: none; cursor: pointer;">
                <i class="fas fa-walking"></i> ë„ë³´
            </button>
        `;
    } else {
        // 1.5km ì´ìƒ â†’ ëª¨ë“  ìˆ˜ë‹¨
        buttonsHTML += `
            <button onclick="loadRouteOnMap('transit')" 
                    style="padding: 12px 16px; background-color: #10b981; color: white; 
                           border-radius: 8px; font-size: 14px; font-weight: 500; 
                           transition: all 0.3s; border: none; cursor: pointer; margin-right: 8px;">
                <i class="fas fa-bus"></i> ëŒ€ì¤‘êµí†µ
            </button>
            <button onclick="loadRouteOnMap('driving')" 
                    style="padding: 12px 16px; background-color: #3b82f6; color: white; 
                           border-radius: 8px; font-size: 14px; font-weight: 500; 
                           transition: all 0.3s; border: none; cursor: pointer; margin-right: 8px;">
                <i class="fas fa-car"></i> ìë™ì°¨
            </button>
            <button onclick="loadRouteOnMap('walking')" 
                    style="padding: 12px 16px; background-color: #f97316; color: white; 
                           border-radius: 8px; font-size: 14px; font-weight: 500; 
                           transition: all 0.3s; border: none; cursor: pointer;">
                <i class="fas fa-walking"></i> ë„ë³´
            </button>
        `;
    }
    
    return buttonsHTML;
}
```

**ì™œ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì¸ê°€?**
- âœ… Tailwind CSS ë¡œë”© ìˆœì„œì™€ ë¬´ê´€í•˜ê²Œ ì¼ê´€ëœ ë Œë”ë§
- âœ… ë™ì  ìƒì„± HTMLì—ì„œ ìŠ¤íƒ€ì¼ ëˆ„ë½ ë°©ì§€
- âœ… ì™¸ë¶€ CSS íŒŒì¼ ì˜ì¡´ì„± ì œê±°

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### ğŸ³ Docker
| ì„œë¹„ìŠ¤ | ì´ë¯¸ì§€ | ìš©ë„ |
|--------|--------|------|
| **app** | Python 3.13-slim | FastAPI ì„œë²„ |
| **redis** | Redis 7-alpine | ìºì‹œ ì €ì¥ |

### âš™ï¸ Backend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Python** | 3.13.5 | ëŸ°íƒ€ì„ |
| **FastAPI** | 0.121.2 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| **Pydantic** | 2.12.4 | ë°ì´í„° ê²€ì¦ |
| **SQLAlchemy** | 2.0.44 | (ë¯¸ì‚¬ìš©, í˜¸í™˜ì„±) |
| **Redis** | 5.0.1 | ìºì‹œ í´ë¼ì´ì–¸íŠ¸ |
| **OpenAI** | 2.8.0 | GPT-5 SDK |

### ğŸ¤– AI & External APIs
| API | ìš©ë„ | ìºì‹œ |
|-----|------|------|
| **OpenAI GPT-5** | ë„ì‹œ ì¶”ì¶œ, ìŠ¤íƒ€ì¼ ë¶„ì„, ìŠ¤ì¼€ì¤„ ìƒì„± | 7-30ì¼ |
| **Google Places** | ì¥ì†Œ ê²€ìƒ‰ ë° ê²€ì¦ | 30ì¼ |
| **Google Maps** | ê²½ë¡œ ê³„ì‚° (ì¢Œí‘œ ê¸°ë°˜) | ì‹¤ì‹œê°„ |
| **Naver Blog** | í›„ê¸° í¬ë¡¤ë§ | 30ì¼ |
| **OpenWeather** | ë‚ ì”¨ ì˜ˆë³´ | 6ì‹œê°„ |

---

## ğŸ†• 2025-11-18 ìµœì‹  ì—…ë°ì´íŠ¸

### ğŸ› ê¸´ê¸‰ ë²„ê·¸í”½ìŠ¤: AI ìºì‹œ íƒ€ì… ë¶ˆì¼ì¹˜ í•´ê²°

**ë¬¸ì œ**: `too many values to unpack (expected 2)` ì—ëŸ¬ë¡œ ì—¬í–‰ ì¶”ì²œ ì™„ì „ ì¤‘ë‹¨

**ê·¼ë³¸ ì›ì¸**: 
1. **ìºì‹œ ë°˜í™˜ íƒ€ì… ë¶ˆì¼ì¹˜** (58ë²ˆ ì¤„)
   - ìºì‹œì—ì„œ: ë¬¸ìì—´ `"êµí† "` ë°˜í™˜
   - í˜¸ì¶œë¶€ì—ì„œ: dict `{"city": "êµí† ", "lat": ..., "lng": ...}` ê¸°ëŒ€
   - ê²°ê³¼: `isinstance(ai_extracted_data, dict)` ì²´í¬ ì‹¤íŒ¨ â†’ `city = None`

2. **í´ë°± ì—ëŸ¬ í•¸ë“¤ë§** (408ë²ˆ ì¤„)
   - `city = None`ì¼ ë•Œ ë¬¸ìì—´ ë°˜í™˜ â†’ íŠœí”Œ ì–¸íŒ¨í‚¹ ì‹¤íŒ¨

**í•´ê²°**:

```python
# âŒ ì´ì „ ì½”ë“œ (58ë²ˆ ì¤„)
return city  # "êµí† " (ë¬¸ìì—´)

# âœ… ìˆ˜ì •ëœ ì½”ë“œ
return cached_result  # {"city": "êµí† ", "lat": 35.0116, "lng": 135.7681} (dict)

# âœ… ì¶”ê°€ ìˆ˜ì • (408ë²ˆ ì¤„)
return (37.5665, 126.9780)  # ë¬¸ìì—´ ëŒ€ì‹  íŠœí”Œ
```

**íš¨ê³¼**:
- âœ… AIê°€ ì¶”ì¶œí•œ ë„ì‹œì™€ ì¢Œí‘œë¥¼ ìºì‹œì—ì„œ ì™„ì „í•˜ê²Œ ë³µì›
- âœ… "êµí† " ê°™ì€ í•´ì™¸ ë„ì‹œë„ AI ì¢Œí‘œ ìš°ì„  ì‚¬ìš©
- âœ… Google Geocoding í˜¸ì¶œ ìµœì†Œí™”

---

### ğŸŒ ê¸€ë¡œë²Œ ëŒ€ì¤‘êµí†µ ê²½ë¡œ ìë™ ê°ì§€

**í˜ì‹ ì  ë³€í™”**: ì „ì„¸ê³„ ì–´ëŠ ë„ì‹œì—ì„œë“  ëŒ€ì¤‘êµí†µ ê²½ë¡œê°€ ìë™ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤!

#### ë¬¸ì œ ìƒí™©
```
âŒ í•´ì™¸ ë„ì‹œ(ë„ì¿„, íŒŒë¦¬, ë‰´ìš• ë“±)ì—ì„œ ëŒ€ì¤‘êµí†µ ë²„íŠ¼ í´ë¦­
â†’ "ZERO_RESULTS" ì—ëŸ¬ ë°˜í™˜
â†’ ì§ì„  í™”ì‚´í‘œë§Œ í‘œì‹œë¨
```

**ê·¼ë³¸ ì›ì¸**: 
```javascript
const request = {
    region: 'KR'  // âŒ í•˜ë“œì½”ë”©! í•´ì™¸ ëŒ€ì¤‘êµí†µ ì°¨ë‹¨
};
```

#### í•´ê²° ë°©ë²•

**1ï¸âƒ£ ì¢Œí‘œ ê¸°ë°˜ ìë™ êµ­ê°€ ê°ì§€**
```javascript
async function getCountryCodeFromCoords(lat, lng) {
    // Google Geocoding APIë¡œ ì¢Œí‘œ â†’ êµ­ê°€ ì½”ë“œ ì—­ì‚°
    // ì˜ˆ: (35.6762, 139.6503) â†’ "JP" (ì¼ë³¸)
    // ì˜ˆ: (48.8566, 2.3522) â†’ "FR" (í”„ë‘ìŠ¤)
}
```

**2ï¸âƒ£ ë©€í‹°-ë¦¬ì „ í´ë°± ì²´ì¸**
```javascript
const regionAttempts = [
    countryCode,  // 1ì°¨: ê°ì§€ëœ êµ­ê°€ ì½”ë“œ (JP, FR, US ë“±)
    null          // 2ì°¨: region ì—†ìŒ (ê¸€ë¡œë²Œ ê²€ìƒ‰)
];

for (const region of regionAttempts) {
    // ìˆœì°¨ì ìœ¼ë¡œ ì‹œë„í•˜ì—¬ ì„±ê³µí•  ë•Œê¹Œì§€ ë°˜ë³µ
    const result = await directionsService.route({...});
    if (result.status === 'OK') break;
}
```

**3ï¸âƒ£ ì‹¤ì‹œê°„ ë¡œê¹…**
```
ğŸŒ êµ­ê°€ ì½”ë“œ ê°ì§€: JP (Japan)
ğŸ” ê²½ë¡œ ê²€ìƒ‰ ì‹œë„ (region: JP)
âœ… ê²½ë¡œ ê²€ìƒ‰ ì„±ê³µ! (region: JP)
```

#### íš¨ê³¼

| ìœ„ì¹˜ | ì´ì „ | ì´í›„ |
|------|------|------|
| ğŸ‡°ğŸ‡· ì„œìš¸ | âœ… ì‘ë™ | âœ… ì‘ë™ |
| ğŸ‡¯ğŸ‡µ ë„ì¿„ | âŒ ì‹¤íŒ¨ | âœ… **ì‘ë™** |
| ğŸ‡«ğŸ‡· íŒŒë¦¬ | âŒ ì‹¤íŒ¨ | âœ… **ì‘ë™** |
| ğŸ‡ºğŸ‡¸ ë‰´ìš• | âŒ ì‹¤íŒ¨ | âœ… **ì‘ë™** |
| ğŸ‡¹ğŸ‡­ ë°©ì½• | âŒ ì‹¤íŒ¨ | âœ… **ì‘ë™** |

#### ê¸°ìˆ  ì•„í‚¤í…ì²˜

```mermaid
graph LR
    A[ì‚¬ìš©ì: ëŒ€ì¤‘êµí†µ í´ë¦­] --> B[ì¢Œí‘œ ì¶”ì¶œ]
    B --> C[Geocoder: ì¢Œí‘œ â†’ êµ­ê°€ ì½”ë“œ]
    C --> D{êµ­ê°€ ì½”ë“œ<br/>ê°ì§€?}
    D -->|Yes| E[1ì°¨ ì‹œë„: region=JP]
    D -->|No| F[1ì°¨ ì‹œë„: region=null]
    E --> G{ì„±ê³µ?}
    F --> G
    G -->|OK| H[âœ… ê²½ë¡œ í‘œì‹œ]
    G -->|FAIL| I[2ì°¨ ì‹œë„: region=null]
    I --> J{ì„±ê³µ?}
    J -->|OK| H
    J -->|FAIL| K[ì§ì„  í™”ì‚´í‘œ í‘œì‹œ]
    
    style A fill:#e3f2fd
    style H fill:#c8e6c9
    style K fill:#fff9c4
```

#### ì½”ë“œ ë³€ê²½ ì‚¬í•­

**íŒŒì¼**: `frontend/script.js`

**ì£¼ìš” í•¨ìˆ˜ ì¶”ê°€**:
- `getCountryCodeFromCoords(lat, lng)` - ì¢Œí‘œ â†’ êµ­ê°€ ì½”ë“œ ìë™ ê°ì§€
- `loadRouteOnMap(mode)` - ë©€í‹°-ë¦¬ì „ í´ë°± ë¡œì§ í†µí•©

**ë¼ì¸ ë³€ê²½**:
- 2045-2075: êµ­ê°€ ì½”ë“œ ê°ì§€ í•¨ìˆ˜ ì¶”ê°€
- 2163-2209: ë©€í‹°-ë¦¬ì „ í´ë°± ì²´ì¸ êµ¬í˜„
- 1885-1934: ì§€ëŠ¥í˜• ê±°ë¦¬ íŒë‹¨ ì‹œìŠ¤í…œ ì¶”ê°€
- ì œê±°: `region: 'KR'` í•˜ë“œì½”ë”© (2135ë²ˆ ì¤„)

#### ğŸ¯ ì§€ëŠ¥í˜• ê±°ë¦¬ íŒë‹¨ ì‹œìŠ¤í…œ

**ë¬¸ì œ**: 625m ê°™ì€ ì§§ì€ ê±°ë¦¬ì—ì„œëŠ” Googleì´ ëŒ€ì¤‘êµí†µ ê²½ë¡œë¥¼ ì œê³µí•˜ì§€ ì•ŠìŒ (ê±¸ì–´ê°€ëŠ” ê²Œ ë” ë¹ ë¦„)

**í•´ê²°**:
```javascript
// 1km ë¯¸ë§Œ: ëŒ€ì¤‘êµí†µ ë²„íŠ¼ ë¹„í™œì„±í™” + ê²½ê³  í‘œì‹œ
if (distance < 1000) {
    // ë²„íŠ¼ì„ íšŒìƒ‰ìœ¼ë¡œ ë¹„í™œì„±í™”
    // ë…¸ë€ìƒ‰ ê²½ê³ : "ë„ë³´ ì¶”ì²œ: 625m (ì•½ 8ë¶„) - ê±¸ì–´ê°€ëŠ” ê²Œ ë” ë¹ ë¦…ë‹ˆë‹¤!"
}
```

**íš¨ê³¼**:
- âœ… 1km ë¯¸ë§Œ: ëŒ€ì¤‘êµí†µ ë²„íŠ¼ ë¹„í™œì„±í™” + ë„ë³´ ì¶”ì²œ
- âœ… 1km ì´ìƒ: ëŒ€ì¤‘êµí†µ ë²„íŠ¼ í™œì„±í™”
- âœ… ì‚¬ìš©ìê°€ í˜¼ë€ìŠ¤ëŸ¬ì›Œí•˜ì§€ ì•ŠìŒ

---

## ğŸ†• 2025-11-17 ì£¼ìš” ì—…ë°ì´íŠ¸

### 1. Python 3.13 + Docker ì™„ë²½ í˜¸í™˜

**ë¬¸ì œ:**
```
âŒ psycopg2-binary: pg_config not found
âŒ lxml: C API compilation error  
âŒ SQLAlchemy: typing assertion error
âŒ FastAPI: FieldInfo 'in_' attribute error
```

**í•´ê²°:**
```
âœ… Docker ì»¨í…Œì´ë„ˆí™”
âœ… requirements.txt ìµœì‹  ë²„ì „
   - fastapi>=0.115.0 (0.121.2)
   - sqlalchemy>=2.0.30 (2.0.44)
   - pydantic>=2.7.0 (2.12.4)
   - lxml>=4.9.4 (6.0.2)
âœ… Dockerfileì— ë¹Œë“œ ë„êµ¬ í¬í•¨
   - gcc, g++, libxml2-dev, libxslt-dev
```

### 2. AI ìë™ ë„ì‹œ ì¶”ì¶œ (ì „êµ­ ì§€ì›)

**ê¸°ì¡´:**
```python
# âŒ í•˜ë“œì½”ë”©ëœ ë„ì‹œ DB (471ì¤„)
KOREAN_LOCATIONS = {
    'ì„œìš¸': {...},
    'ë¶€ì‚°': {...},
    ...  # 20ê°œ ë„ì‹œë§Œ
}
```

**ê°œì„ :**
```python
# âœ… GPT-5 ìë™ ì¶”ì¶œ
"ì²œì•ˆì—ì„œ 1ë°•2ì¼" â†’ GPT-5 â†’ "ì²œì•ˆ" âœ…
"ë°€ì–‘ ì–¼ìŒê³¨" â†’ GPT-5 â†’ "ë°€ì–‘" âœ…
"ì²­ë„ ë§›ì§‘" â†’ GPT-5 â†’ "ì²­ë„" âœ…
```

### 3. UI ë‹¨ìˆœí™”

**ì‚­ì œ:**
- âŒ ì—¬í–‰ ë„ì‹œ ì„ íƒ ë“œë¡­ë‹¤ìš´
- âŒ ì—¬í–‰ ìŠ¤íƒ€ì¼ ì„ íƒ
- âŒ ì˜ˆì‚° ê³„ì‚°ê¸°
- âŒ ë¡œê·¸ì¸/íšŒì›ê°€ì…

**ì¶”ê°€:**
- âœ… í”„ë¡¬í”„íŠ¸ ì¤‘ì‹¬ ëŒ€í˜• ì…ë ¥ì°½
- âœ… ë¡œì»¬ íˆìŠ¤í† ë¦¬ (ìµœëŒ€ 50ê°œ)
- âœ… ê°„ì†Œí™”ëœ UI

### 4. ì¢Œí‘œ ê¸°ë°˜ ì •í™•í•œ ê²½ë¡œ

**ê¸°ì¡´:**
```javascript
// âŒ ì¥ì†Œëª…ìœ¼ë¡œ ê²€ìƒ‰
origin: "ë´‰ì„œì‚°"  
â†’ Googleì´ "íŒŒì£¼ ë´‰ì„œì‚°" ì°¾ìŒ âŒ
```

**ê°œì„ :**
```javascript
// âœ… ì¢Œí‘œ ì§ì ‘ ì‚¬ìš©
origin: {lat: 36.81, lng: 127.12}
â†’ ì •í™•íˆ ì²œì•ˆ ë´‰ì„œì‚° âœ…
```

### 5. ìš°ì•„í•œ ì—ëŸ¬ ì²˜ë¦¬

**ê²½ë¡œ ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ:**
```
âŒ ê¸°ì¡´: ë¹¨ê°„ ì—ëŸ¬ ë©”ì‹œì§€
âœ… ê°œì„ : íŒŒë€ìƒ‰ ì •ë³´ + ì ì„  í™”ì‚´í‘œ
```

---

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ì‚¬ìš©ì
    participant F as ğŸŒ Frontend
    participant A as ğŸ³ Docker App
    participant G as ğŸ¤– GPT-5
    participant P as ğŸŒ Google Places
    participant M as ğŸ—ºï¸ Google Maps
    participant R as ğŸ’¾ Redis
    
    U->>F: "ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰"
    F->>A: POST /api/travel/plan
    
    A->>R: ìºì‹œ í™•ì¸
    R-->>A: MISS
    
    A->>G: ë„ì‹œ ì¶”ì¶œ ìš”ì²­
    G-->>A: "ì²œì•ˆ" + ì¢Œí‘œ
    
    A->>G: ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„
    G-->>A: "family_tour"
    
    A->>G: ìŠ¤ì¼€ì¤„ í”„ë ˆì„ ìƒì„±
    G-->>A: ì‹œê°„ëŒ€ë³„ ì¥ì†Œ ìœ í˜•
    
    A->>P: ì²œì•ˆ ì¥ì†Œ ê²€ìƒ‰
    P-->>A: ì¥ì†Œ ë¦¬ìŠ¤íŠ¸ + ì¢Œí‘œ
    
    A->>M: ê²½ë¡œ ê³„ì‚° (ì¢Œí‘œ ê¸°ë°˜)
    M-->>A: ê²½ë¡œ ì •ë³´
    
    A->>R: ê²°ê³¼ ìºì‹±
    A-->>F: ì™„ì„±ëœ ì¼ì •
    F-->>U: ê²°ê³¼ í‘œì‹œ + ì§€ë„
```

---

## ğŸ“ í•µì‹¬ ê¸°ìˆ 

### 1. GPT-5 ë„ì‹œ ì¶”ì¶œ

```python
í”„ë¡¬í”„íŠ¸: "ì²œì•ˆì—ì„œ 1ë°•2ì¼"

GPT-5 ìš”ì²­:
"ë‹¤ìŒ ë¬¸ì¥ì—ì„œ ì—¬í–‰ ëª©ì ì§€ ë„ì‹œëª…ë§Œ ì¶”ì¶œí•˜ì„¸ìš”.
ê·œì¹™:
- '~ì—ì„œ' ë’¤ì— ë‚˜ì˜¤ëŠ” ì§€ëª…ì´ ëª©ì ì§€
- ë„/ê´‘ì—­ì‹œ ì œê±°: 'ì „ë‚¨ ìˆœì²œ' â†’ 'ìˆœì²œ'
- ì¶œë°œì§€ê°€ ì•„ë‹Œ ëª©ì ì§€ë¥¼ ì¶”ì¶œ
JSONë§Œ ì‘ë‹µ: {'city': 'ë„ì‹œëª…'}"

ì‘ë‹µ: {"city": "ì²œì•ˆ"}
```

### 2. ì¢Œí‘œ ê¸°ë°˜ ê²½ë¡œ ê³„ì‚°

```javascript
// AI ì¶”ì²œ ì¥ì†Œ
{
  name: "ì¹´í˜ë£¨",
  address: "ì¶©ì²­ë‚¨ë„ ì²œì•ˆì‹œ ë™ë‚¨êµ¬ ì„œë¶€ëŒ€ë¡œ 531-20",
  lat: 36.8149812,
  lng: 127.1290382
}

// ê²½ë¡œ ê³„ì‚°
origin: {lat: 36.81, lng: 127.13}  // ì¢Œí‘œ ì§ì ‘ ì‚¬ìš©!
destination: {lat: 36.81, lng: 127.12}
â†’ Google Mapsê°€ ì •í™•í•œ ìœ„ì¹˜ë¡œ ê²½ë¡œ ê³„ì‚°
```

### 3. Redis ìºì‹± ì „ëµ

```
AI ì‘ë‹µ ìºì‹œ: 7-30ì¼
- ë„ì‹œ ì¶”ì¶œ
- ì—¬í–‰ ìŠ¤íƒ€ì¼ ë¶„ì„
- ìŠ¤ì¼€ì¤„ í”„ë ˆì„

ì¥ì†Œ ë°ì´í„° ìºì‹œ: 30ì¼
- Google Places ê²°ê³¼
- Naver ë¸”ë¡œê·¸ í›„ê¸°
- ë‚ ì”¨ ì •ë³´: 6ì‹œê°„
```

---

## ğŸ“Š API ëª…ì„¸

### ì—¬í–‰ ê³„íš ìƒì„±

```http
POST /api/travel/plan
Content-Type: application/json

{
  "prompt": "ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰ ì¶”ì²œí•´ì¤˜",
  "preferences": {
    "city": "Auto",  // AI ìë™ ì¶”ì¶œ
    "start_date": "2025-11-20",
    "end_date": "2025-11-21",
    "start_time": "09:00",
    "end_time": "18:00",
    "start_location": "ì„œìš¸ì—­"  // ì„ íƒì‚¬í•­
  }
}
```

### ì‘ë‹µ í˜•ì‹

```json
{
  "plan_id": "uuid",
  "title": "ì²œì•ˆ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰",
  "summary": "AI ìƒì„± ìš”ì•½",
  "itinerary": [
    {
      "day": 1,
      "time": "10:00",
      "place_name": "ë…ë¦½ê¸°ë…ê´€",
      "address": "ì¶©ì²­ë‚¨ë„ ì²œì•ˆì‹œ ë™ë‚¨êµ¬ ëª©ì²œì ì‚¼ë°©ë¡œ 95",
      "lat": 36.7807,
      "lng": 127.2534,
      "duration": "90ë¶„",
      "description": "3Â·1ìš´ë™ ë° ë…ë¦½ìš´ë™ ìë£Œ ì „ì‹œ",
      "rating": 4.5,
      "blog_reviews": [...],
      "verified": true
    }
  ],
  "weather_info": {...},
  "route_info": {...},
  "processing_metadata": {...}
}
```

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ: Python íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨

```bash
# í•´ê²°: Docker ì‚¬ìš© (ê¶Œì¥)
./docker-start.sh
```

### ë¬¸ì œ: ê²½ë¡œê°€ ì—‰ëš±í•œ ê³³ìœ¼ë¡œ

```
ì›ì¸: ì¥ì†Œëª…ìœ¼ë¡œ ê²€ìƒ‰ (íŒŒì£¼ ë´‰ì„œì‚°)
í•´ê²°: ì¢Œí‘œ ê¸°ë°˜ ê²½ë¡œ ê³„ì‚° (ìˆ˜ì • ì™„ë£Œ)
```

### ë¬¸ì œ: innerHTML null ì—ëŸ¬

```
ì›ì¸: ì œê±°ëœ UI ìš”ì†Œ ì°¸ì¡°
í•´ê²°: null ì²´í¬ ì¶”ê°€ (ìˆ˜ì • ì™„ë£Œ)
```

### ë¬¸ì œ: ZERO_RESULTS ì—ëŸ¬

```
ì •ìƒ ìƒí™©: ê²½ë¡œ ì—†ìŒ
ì²˜ë¦¬: ì ì„  í™”ì‚´í‘œë¡œ ìë™ í‘œì‹œ
```

---

## ğŸ’¡ ì‚¬ìš© íŒ

### í”„ë¡¬í”„íŠ¸ ì‘ì„± íŒ

```
âœ… ì¢‹ì€ ì˜ˆ:
"ì²œì•ˆì—ì„œ 1ë°•2ì¼ ê°€ì¡±ì—¬í–‰, ì•„ì´ë“¤ ì¢‹ì•„í•  ë§Œí•œ ê³³"
"ë¶€ì‚° í•´ìš´ëŒ€ ë‹¹ì¼ì¹˜ê¸° ë°ì´íŠ¸, ë°”ë‹¤ ë·° ì¹´í˜ ì¤‘ì‹¬"
"ì œì£¼ë„ 3ë°•4ì¼, ë Œí„°ì¹´ë¡œ ìì—° ì—¬í–‰"

âŒ ë‚˜ìœ ì˜ˆ:
"ì—¬í–‰" (ë„ì‹œ ë¯¸ì§€ì •)
"ë§›ì§‘" (ë„ì‹œ, ê¸°ê°„ ë¯¸ì§€ì •)
```

### ì¶œë°œì§€ ê²€ìƒ‰ íŒ

```
1. ì§€ë„ ì•„ì´ì½˜ í´ë¦­
2. ê²€ìƒ‰ì°½ì— ì…ë ¥ (ì˜ˆ: "ì„œìš¸ì—­")
3. ìë™ì™„ì„± ëª©ë¡ì—ì„œ ì •í™•í•œ ìœ„ì¹˜ ì„ íƒ
4. ì—¬ëŸ¬ í›„ë³´ ì¤‘ ì„ íƒ ê°€ëŠ¥ âœ…
```

---

## âš¡ ì„±ëŠ¥

| ì§€í‘œ | ê°’ |
|------|-----|
| **í‰ê·  ì‘ë‹µ ì‹œê°„** | 8-15ì´ˆ (ìºì‹œ íˆíŠ¸ ì‹œ 3ì´ˆ) |
| **ìºì‹œ íˆíŠ¸ìœ¨** | 40-60% |
| **ì§€ì› ë„ì‹œ** | ì „êµ­ ëª¨ë“  ë„ì‹œ (ë¬´ì œí•œ) |
| **ë™ì‹œ ì‚¬ìš©ì** | Dockerë¡œ í™•ì¥ ê°€ëŠ¥ |

---

## ğŸ“Š ë°ì´í„° ì„ íƒ ê¸°ì¤€ & í’ˆì§ˆ ê´€ë¦¬

### ì¥ì†Œ ì„ íƒ ìš°ì„ ìˆœìœ„ ì•Œê³ ë¦¬ì¦˜

```python
# 1ìˆœìœ„: ê±°ë¦¬ (Haversine)
distance_score = 1.0 - (distance_km / max_radius_km)
# ì˜ˆ: 1km ê±°ë¦¬ = 0.8ì , 5km ê±°ë¦¬ = 0.0ì 

# 2ìˆœìœ„: Google í‰ì 
rating_score = (rating - 3.0) / 2.0
# ì˜ˆ: 4.5ì  = 0.75ì , 3.0ì  = 0.0ì 

# 3ìˆœìœ„: ë¦¬ë·° ê°œìˆ˜
review_score = min(review_count / 100, 1.0)
# ì˜ˆ: 50ê°œ = 0.5ì , 100ê°œ+ = 1.0ì 

# ì¢…í•© ì ìˆ˜
final_score = (
    distance_score * 0.5 +  # ê±°ë¦¬ 50%
    rating_score * 0.3 +     # í‰ì  30%
    review_score * 0.2       # ë¦¬ë·° 20%
)
```

### ë°ì´í„° í’ˆì§ˆ ê²€ì¦

```python
class PlaceValidator:
    def validate(self, place):
        # âœ… í•„ìˆ˜ í•„ë“œ
        assert place.get('name') is not None
        assert place.get('lat') is not None
        assert place.get('lng') is not None
        
        # âœ… ì¢Œí‘œ ë²”ìœ„ (ì „ì„¸ê³„)
        assert -90 <= place['lat'] <= 90
        assert -180 <= place['lng'] <= 180
        
        # âœ… í‰ì  ë²”ìœ„
        if 'rating' in place:
            assert 0 <= place['rating'] <= 5
        
        # âœ… ê±°ë¦¬ ê²€ì¦
        distance = calculate_distance(center, place)
        assert distance <= search_radius_km
        
        return True
```

### Naver ë¸”ë¡œê·¸ í›„ê¸° í•„í„°ë§

- âœ… ë§í¬ ìœ íš¨ì„± ê²€ì¦ (`http` ì‹œì‘)
- âœ… ì œëª©ì— ì¥ì†Œëª… í¬í•¨ ì—¬ë¶€
- âœ… HTML íƒœê·¸ ì œê±°
- âœ… ì¤‘ë³µ ì œê±° (URL ê¸°ì¤€)
- âœ… ìµœëŒ€ 3ê°œë§Œ ì„ íƒ

---

## âš¡ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 1. ë³‘ë ¬ ì²˜ë¦¬ (AsyncIO)

```python
# Google Places + Naver Blog ë™ì‹œ í˜¸ì¶œ
tasks = []
for place in places:
    tasks.append(fetch_place_details(place))
    tasks.append(fetch_blog_reviews(place['name']))

results = await asyncio.gather(*tasks)

# ì„±ëŠ¥: ìˆœì°¨ 10ì´ˆ â†’ ë³‘ë ¬ 2ì´ˆ (5ë°° í–¥ìƒ)
```

### 2. í† í° ì‚¬ìš©ëŸ‰ ìµœì í™”

```python
# ë™ì  í† í° ì œí•œ
max_tokens = {
    1: 10000,  # ë‹¹ì¼ì¹˜ê¸°
    2: 10000,  # 1ë°•2ì¼
    3: 15000,  # 2ë°•3ì¼
    4: 20000,  # 3ë°•4ì¼+
}[days_count]

# í”„ë¡¬í”„íŠ¸ ê°„ì†Œí™”
# âŒ 1000 tokens â†’ âœ… 200 tokens (80% ì ˆê°)
```

### 3. Redis ìºì‹œ ìµœì í™”

```python
# ìºì‹œ í‚¤ ì •ê·œí™”
def generate_cache_key(city, keyword, radius):
    normalized_city = city.lower().strip()
    normalized_radius = round(radius, 1)
    return f"places:{normalized_city}:{keyword}:{normalized_radius}"

# íˆíŠ¸ìœ¨: 35% â†’ 65% (í‚¤ ì •ê·œí™” í›„)
```

### 4. ì‘ë‹µ í¬ê¸° ì œí•œ

```python
# ë°ì´í„° ì••ì¶•
- ë¸”ë¡œê·¸ í›„ê¸°: ì¥ì†Œë‹¹ ìµœëŒ€ 3ê°œ
- ì„¤ëª… ê¸¸ì´: ìµœëŒ€ 200ì
- í•˜ë£¨ ì¥ì†Œ: ìµœëŒ€ 8ê°œ

# ì´ ì‘ë‹µ í¬ê¸°: 1.5MB â†’ 300KB (5ë°° ì••ì¶•)
```

---

## ğŸ”§ ì—ëŸ¬ ì²˜ë¦¬ & ë³µì›ë ¥

### Fallback ì²´ì¸

```
API í˜¸ì¶œ ì‹¤íŒ¨
  â†“
ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„)
  â†“
AI ì¢Œí‘œ ì‚¬ìš© (Google Geocoding ëŒ€ì‹ )
  â†“
ê·¼êµ ë„ì‹œ ê²€ìƒ‰ (ì¥ì†Œ ë¶€ì¡± ì‹œ)
  â†“
ê¸°ë³¸ ì¢Œí‘œ ì‚¬ìš© (ì„œìš¸ ì¤‘ì‹¬)
  â†“
ì—ëŸ¬ ë°˜í™˜ (ëª…í™•í•œ ë©”ì‹œì§€)
```

### GPT-5 í† í° ì œí•œ ëŒ€ì‘

```python
if response.choices[0].finish_reason == 'length':
    # í† í° ì œí•œ ì´ˆê³¼
    # â†’ í”„ë¡¬í”„íŠ¸ ê°„ì†Œí™” + í† í° 50% ì¦ê°€
    max_tokens *= 1.5
    response = retry_with_simplified_prompt()
```

---

## ğŸ“ API í‚¤ ë°œê¸‰

| ì„œë¹„ìŠ¤ | ë§í¬ | í•„ìˆ˜ ì—¬ë¶€ |
|--------|------|-----------|
| **OpenAI GPT-5** | https://platform.openai.com/api-keys | âœ… í•„ìˆ˜ |
| **Google Maps** | https://console.cloud.google.com/ | âœ… í•„ìˆ˜ |
| **Naver API** | https://developers.naver.com/apps/ | â­• ê¶Œì¥ |
| **OpenWeather** | https://openweathermap.org/api | â­• ì„ íƒ |
| **Notion** | https://developers.notion.com/ | â­• ì„ íƒ |

---

## ğŸ¯ ì¥ì 

### vs ê¸°ì¡´ ì—¬í–‰ í”Œë˜ë„ˆ

| ê¸°ëŠ¥ | ê¸°ì¡´ | ì´ í”„ë¡œì íŠ¸ |
|------|------|-------------|
| ë„ì‹œ ì§€ì› | 20ê°œ (í•˜ë“œì½”ë”©) | **ì „êµ­ ë¬´ì œí•œ** (AI) |
| ì…ë ¥ ë°©ì‹ | ë“œë¡­ë‹¤ìš´ ì„ íƒ | **ìì—°ì–´ í”„ë¡¬í”„íŠ¸** |
| ê²½ë¡œ ì •í™•ë„ | ì¥ì†Œëª… ê²€ìƒ‰ (í˜¼ë™) | **ì¢Œí‘œ ê¸°ë°˜** (ì •í™•) |
| ë¡œê·¸ì¸ | í•„ìˆ˜ | **ë¶ˆí•„ìš”** |
| ì„¤ì¹˜ | ë³µì¡ (ê°€ìƒí™˜ê²½) | **Docker ì›í´ë¦­** |
| í™•ì¥ì„± | ì œí•œì  | **AI ê¸°ë°˜ ë¬´í•œ** |

---

## ğŸŒŸ í–¥í›„ ê³„íš

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥ (2025-11-17)
- [x] Docker ì»¨í…Œì´ë„ˆí™”
- [x] Python 3.13 ì™„ë²½ í˜¸í™˜
- [x] AI ìë™ ë„ì‹œ ì¶”ì¶œ
- [x] í”„ë¡¬í”„íŠ¸ ì¤‘ì‹¬ UI
- [x] ì¢Œí‘œ ê¸°ë°˜ ê²½ë¡œ
- [x] í•˜ë“œì½”ë”© DB ì œê±°

### ğŸš§ ë‹¤ìŒ ë‹¨ê³„
- [ ] Google Places Autocomplete â†’ PlaceAutocompleteElement ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] Google Marker â†’ AdvancedMarkerElement ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] SSE ìŠ¤íŠ¸ë¦¬ë° ì§„í–‰ë¥  í‘œì‹œ ê°œì„ 
- [ ] ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´)

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ğŸ™ í¬ë ˆë”§

- [FastAPI](https://fastapi.tiangolo.com/) - ì›¹ í”„ë ˆì„ì›Œí¬
- [OpenAI GPT-5](https://openai.com/) - AI ë„ì‹œ ì¶”ì¶œ ë° ë¶„ì„
- [Google Maps](https://developers.google.com/maps) - ì§€ë„ ë° ê²½ë¡œ
- [Redis](https://redis.io/) - ìºì‹œ ì €ì¥
- [Docker](https://docker.com/) - ì»¨í…Œì´ë„ˆí™”

---

<div align="center">

## ğŸ¯ ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”!

```bash
./docker-start.sh
```

**ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000 ì ‘ì†!**

### ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥
âœ… ì „êµ­ ëª¨ë“  ë„ì‹œ | ğŸ¤– AI ìë™ ë¶„ì„ | ğŸ“ ì •í™•í•œ ê²½ë¡œ | ğŸ³ Docker ì›í´ë¦­

*Made with â¤ï¸ using FastAPI, OpenAI GPT-5, Google Maps, and Docker*

[â­ Star this repo](https://github.com/your-repo/travel-recommend-korea) | [ğŸ› Report Bug](https://github.com/your-repo/travel-recommend-korea/issues) | [ğŸ’¡ Request Feature](https://github.com/your-repo/travel-recommend-korea/issues)

</div>
